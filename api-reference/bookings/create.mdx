---
title: "Create Booking"
openapi: "POST /api/bookings"
---

Create a new waste pickup booking.

## Authorization

<Info>
  Requires authentication. Include JWT token in the Authorization header.
</Info>

```
Authorization: Bearer <token>
```

## Request Body

```json
{
  "wasteCategoryId": "category-uuid",
  "estimatedWeightKg": 10.5,
  "address": "123 Main Street, Colombo 05",
  "latitude": 6.9271,
  "longitude": 79.8612,
  "scheduledDate": "2024-02-01T10:00:00Z",
  "notes": "Please call before arriving"
}
```

## Parameters

| Field               | Type   | Required | Description            |
| ------------------- | ------ | -------- | ---------------------- |
| `wasteCategoryId`   | string | Yes      | UUID of waste category |
| `estimatedWeightKg` | number | Yes      | Estimated weight in kg |
| `address`           | string | Yes      | Pickup address         |
| `latitude`          | number | No       | GPS latitude           |
| `longitude`         | number | No       | GPS longitude          |
| `scheduledDate`     | string | Yes      | ISO 8601 date/time     |
| `notes`             | string | No       | Additional notes       |

## Response

<Tabs>
  <Tab title="201 Created">
    ```json
    {
      "id": "booking-uuid",
      "userId": "user-uuid",
      "wasteCategoryId": "category-uuid",
      "estimatedWeightKg": 10.5,
      "estimatedMinAmount": 472.50,
      "estimatedMaxAmount": 577.50,
      "address": "123 Main Street, Colombo 05",
      "latitude": 6.9271,
      "longitude": 79.8612,
      "scheduledDate": "2024-02-01T10:00:00Z",
      "status": "PENDING",
      "notes": "Please call before arriving",
      "createdAt": "2024-01-25T14:30:00Z",
      "wasteCategory": {
        "id": "category-uuid",
        "name": "Plastic",
        "pricePerKg": 50.00
      }
    }
    ```
  </Tab>
  <Tab title="400 Bad Request">
    ```json
    {
      "statusCode": 400,
      "message": [
        "estimatedWeightKg must be a positive number",
        "scheduledDate must be a future date"
      ]
    }
    ```
  </Tab>
  <Tab title="404 Not Found">
    ```json
    {
      "statusCode": 404,
      "message": "Waste category not found"
    }
    ```
  </Tab>
</Tabs>

## Example

```bash
curl -X POST https://api.trash2cash.lk/api/bookings \
  -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." \
  -H "Content-Type: application/json" \
  -d '{
    "wasteCategoryId": "category-uuid",
    "estimatedWeightKg": 10.5,
    "address": "123 Main Street, Colombo 05",
    "scheduledDate": "2024-02-01T10:00:00Z"
  }'
```

## Notes

- `estimatedMinAmount` and `estimatedMaxAmount` are auto-calculated (Â±10% range)
- Initial status is `PENDING`, waiting for admin confirmation
- Scheduled date must be at least 24 hours in the future
- Get available waste categories from `/api/bookings/categories`
