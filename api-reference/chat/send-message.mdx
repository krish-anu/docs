---
title: "Send Message"
openapi: "POST /api/chat"
---

Send a message to the chat system. This endpoint handles real-time messaging between users and support staff.

## Authorization

<Info>
  Requires authentication. Include JWT token in the Authorization header.
</Info>

```
Authorization: Bearer <token>
```

## Request Body

```json
{
  "messages": [
    {
      "senderType": "user",
      "content": "What types of waste do you accept?"
    }
  ]
}
```

## Parameters

| Field                   | Type   | Required | Description                |
| ----------------------- | ------ | -------- | -------------------------- |
| `messages`              | array  | Yes      | Array of message objects   |
| `messages[].senderType` | string | Yes      | Either "user" or "support" |
| `messages[].content`    | string | Yes      | Message text content       |

## Response

<Tabs>
  <Tab title="200 OK">
    ```json
    {
      "id": "message-uuid",
      "senderType": "support",
      "content": "Response from the support team",
      "createdAt": "2024-01-25T14:30:00Z"
    }
    ```
  </Tab>
  <Tab title="400 Bad Request">
    ```json
    {
      "statusCode": 400,
      "message": "Messages array is required"
    }
    ```
  </Tab>
</Tabs>

## Example

```bash
curl -X POST "https://api.trash2cash.lk/api/chat" \
  -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." \
  -H "Content-Type: application/json" \
  -d '{
    "messages": [{
      "senderType": "user",
      "content": "What types of waste do you accept?"
    }]
  }'
```

## Sample Topics

Support staff can help with:

- "What types of waste do you accept?"
- "How does pricing work?"
- "How do I schedule a pickup?"
- "What happens after I book?"
- "How long does a pickup take?"
- "Can I cancel my booking?"

## Notes

- Support staff responds to messages during business hours
- Chat history is maintained per user
- Messages are stored for support reference
