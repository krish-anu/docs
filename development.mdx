---
title: "Development"
description: "Set up your local development environment for Trash2Cash waste marketplace"
---

<Info>
  **Prerequisites**: - Node.js v18 or higher - npm or yarn - Docker and Docker
  Compose - Git
</Info>

## Development Setup

<Steps>
<Step title="Start Infrastructure Services">

```bash
docker-compose -f docker-compose.dev.yml up -d
```

This starts the PostgreSQL database container.

</Step>

<Step title="Run Server in Development Mode">

```bash
cd server
npm install
npm run start:dev
```

The server runs on `http://localhost:4000` with hot-reload enabled.

</Step>

<Step title="Run Client in Development Mode">

```bash
cd client
npm install
npm run dev
```

The client runs on `http://localhost:3000` with fast refresh.

</Step>
</Steps>

## Environment Variables

### Server (.env)

```bash
# Database
DATABASE_URL="postgresql://user:password@localhost:5432/trash2cash"
DIRECT_URL="postgresql://user:password@localhost:5432/trash2cash"

# JWT
JWT_ACCESS_SECRET="your-jwt-access-secret"
JWT_REFRESH_SECRET="your-jwt-refresh-secret"
JWT_ACCESS_EXPIRES="15m"
JWT_REFRESH_EXPIRES="7d"

# Application
PORT="4000"
NODE_ENV="development"
CORS_ORIGIN="http://localhost:3000"

# Third-party APIs (optional)
GEMINI_API_KEY="your-gemini-api-key-here"
TEXTLK_API_TOKEN="your-textlk-api-token-here"
```

### Client (.env.local)

```bash
NEXT_PUBLIC_API_URL="http://localhost:4000/api"
```

## Database Management

### Run Migrations

```bash
cd server
npx prisma migrate dev
```

### Seed Database

```bash
npx prisma db seed
```

### Open Prisma Studio

```bash
npx prisma studio
```

This opens a GUI at `http://localhost:5555` for database exploration.

## Code Quality

### Linting

```bash
# Server
cd server && npm run lint

# Client
cd client && npm run lint
```

### Type Checking

```bash
# Server
cd server && npm run build

# Client
cd client && npm run build
```

## Testing

### Server Tests

```bash
cd server
npm run test        # Unit tests
npm run test:e2e    # E2E tests
npm run test:cov    # Coverage report
```

## Useful Commands

| Command                    | Description              |
| -------------------------- | ------------------------ |
| `docker-compose up -d`     | Start database           |
| `docker-compose down`      | Stop all containers      |
| `docker-compose logs -f`   | View container logs      |
| `npx prisma migrate reset` | Reset database           |
| `npx prisma generate`      | Regenerate Prisma client |

## IDE Setup

### VSCode Extensions

- **ESLint** - Linting
- **Prettier** - Code formatting
- **Prisma** - Schema highlighting
- **Tailwind CSS IntelliSense** - CSS autocompletion

### Recommended Settings

```json
{
  "editor.formatOnSave": true,
  "editor.defaultFormatter": "esbenp.prettier-vscode",
  "typescript.preferences.importModuleSpecifier": "relative"
}
```

## Troubleshooting

<AccordionGroup>
  <Accordion title="Database connection failed">
    Make sure Docker containers are running:
    ```bash
    docker-compose ps
    ```
    If not running, start them with `docker-compose up -d`.
  </Accordion>

<Accordion title="Port already in use">
  Check what's using the port: ```bash lsof -i :4000 # Server lsof -i :3000 #
  Client ``` Kill the process or use a different port.
</Accordion>

  <Accordion title="Prisma client out of sync">
    Regenerate the Prisma client:
    ```bash
    npx prisma generate
    ```
  </Accordion>
</AccordionGroup>
